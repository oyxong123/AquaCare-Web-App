@page "/sensors"
@using Models.Dtos
@using Services
@inject ISensorService ISensorService;

<MudContainer Class="mt-16 px-8" MaxWidth="MaxWidth.False">
    <MudGrid>
        @foreach (var sensor in sensorList)
        {
            <MudItem xs="12" sm="6">
                <MudPaper Elevation="2" Class="pa-4" Style="height: 100%">
                    <MudText Typo="Typo.h6">Model: @sensor.Model</MudText>
                    <MudText Typo="Typo.caption">Timestamp: @sensor.Timestamp</MudText>
                    <MudText Typo="Typo.caption">pH: @sensor.Ph</MudText>
                    <MudText Typo="Typo.caption">Temperature: @sensor.Temperature</MudText>
                    <MudText Typo="Typo.caption">Sunlight Intensity: @sensor.SunlightIntensity</MudText>
                    <MudText Typo="Typo.caption">Salinity: @sensor.Salinity</MudText>
                    <MudText Typo="Typo.caption">Turbidity: @sensor.Turbidity</MudText>
                </MudPaper>
            </MudItem>
        }
    </MudGrid>
</MudContainer>

@code {
    List<SensorDto> sensorList = new();

    protected async override Task OnInitializedAsync()
    {
        sensorList = await ISensorService.GetAllSensorRecords();
    }

}
